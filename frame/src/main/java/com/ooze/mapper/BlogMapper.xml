<?xml version="1.0" encoding="UTF-8"?>  
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ooze.dao.BlogDao">
<!--设置model类和数据库中表的字段一一对应，注意数据库字段和model类中的字段名称不致，此处一定要！-->
	<resultMap id="BlogMap" type="com.ooze.model.Blog">
		<id column="blog_id" property="blogId" jdbcType="INTEGER" />
		<result column="title" property="title" jdbcType="VARCHAR" />
		<result column="kinds_id" property="kindsId" jdbcType="INTEGER" />
		<result column="content" property="content" jdbcType="VARCHAR" />
		<result column="user_id" property="userId" jdbcType="INTEGER" />
		<result column="user_name" property="userName" jdbcType="INTEGER" />
	</resultMap>
	
	<select id="getBlogList" resultMap="BlogMap">
	    select b.*,u.user_name 
	    from blog b
	    left join user u on b.user_id=u.user_id
	    where blog_id is not null and blog_id !=''
	</select>
	
	<select id="getBlogList1" resultMap="BlogMap" parameterType="int">
	    select b.*,u.user_name 
	    from blog b
	    left join user u on b.user_id=u.user_id
	    where b.user_id = #{id}
	</select>
	
	<insert id="addBlog"  parameterType="com.ooze.model.Blog">
	    insert into  blog (kinds_id,title,content,user_id) values 
	    (#{kindsId},#{title},#{content},#{userId})
	</insert>
</mapper>